<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tests DialogsQuestionsXBlock</title>
 
  <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.9.2.css">
  <script src="https://code.jquery.com/qunit/qunit-2.9.2.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="utils.js"></script>
 
  <script>
  QUnit.test("find questions", function( assert ) {
    var $d = '';
    $d = $('<html></html>');
    $d.html('<p>Contenido del dialogo.</p>');
    assert.deepEqual(findquestions($d), {});
    $d.html('Agrego una pregunta con input <span class="inputdialogo">asdf</span> y una con dropdown <span class="dropdowndialogo">o1,o2,(o3),o4</span>');
    assert.deepEqual(findquestions($d), {1: "asdf", 2: "o3"});
    $d.html('Agrego una pregunta con input <span class="inputdialogo">asdf</span> y otra <span class="inputdialogo">asdf2</span> y una con dropdown <span class="dropdowndialogo">o1,o2,(o3),o4</span>');
    assert.deepEqual(findquestions($d), {1: "asdf", 2: "asdf2", 3:"o3"});
    $d.html('Agrego una pregunta con input <span class="inputdialogo">asdf</span> y una con dropdown <span class="dropdowndialogo">o1,o2,(o3),o4</span> y otra <span class="inputdialogo">asdf2</span>');
    assert.deepEqual(findquestions($d), {1: "asdf", 2: "asdf2", 3:"o3"});
    $d.html('Agrego una pregunta con input <span class="inputdialogo">asdf</span> y una con dropdown <span class="dropdowndialogo">o1,o2,(o3),o4</span> y otra <span class="inputdialogo">asdf2</span> y otro dropdown <span class="dropdowndialogo">opc1,opc2,opc3,(opc4)</span>');
    assert.deepEqual(findquestions($d), {1: "asdf", 2: "asdf2", 3:"o3", 4:"opc4"});
  });
  </script>
</head>
<body>
 
<div id="qunit"></div>
 
</body>
</html>